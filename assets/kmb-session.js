(function(){function _u(){var p={utm_source:'',utm_medium:'',utm_campaign:'',utm_term:'',utm_adgroup:'',utm_content:'',clid:''};try{var u=new URLSearchParams(window.location.search),k=['utm_source','utm_medium','utm_campaign','utm_term','utm_adgroup','utm_content'];k.forEach(function(key){var v=u.get(key);if(v)p[key]=v});var a=u.get('gclid'),b=u.get('fbclid'),c=u.get('msclkid');if(a)p.clid='gclid:'+a;else if(b)p.clid='fbclid:'+b;else if(c)p.clid='msclkid:'+c}catch(_){}return p}function _s(p,ref){if(p.clid){if(p.clid.indexOf('gclid:')===0)return 'Google Ads';if(p.clid.indexOf('fbclid:')===0)return 'Facebook Ads';if(p.clid.indexOf('msclkid:')===0)return 'Bing Ads'}if(p.utm_medium){var m=p.utm_medium.toLowerCase();if(['cpc','ppc','paid'].indexOf(m)!==-1){var src=(p.utm_source||'').toLowerCase();if(src.indexOf('google')!==-1)return 'Google Ads';if(src.indexOf('facebook')!==-1||src.indexOf('fb')!==-1)return 'Facebook Ads';return 'Paid Traffic'}}if(!ref)return 'Direct';try{var r=new URL(ref),h=r.hostname.toLowerCase().replace(/^www\./,''),f=function(d){return h===d||(h.length>d.length&&h.slice(-(d.length+1))==='.'+d)};if(f('google.com')||h.indexOf('google.')!==-1)return 'Google Organic';if(f('facebook.com'))return 'Facebook Organic';if(f('bing.com'))return 'Bing Organic';if(f('linkedin.com'))return 'LinkedIn Organic';if(f('t.co'))return 'Twitter Organic';if(f('tiktok.com'))return 'TikTok Organic';if(f('instagram.com'))return 'Instagram Organic';return h}catch(_){return 'Invalid Referrer'}}function _g(n){var r=document.cookie.split('; ').find(function(x){return x.indexOf(n+'=')===0});if(!r)return null;var i=r.indexOf('=');return i>=0?r.substring(i+1):null}var _name='kmb_session_data';if(document.cookie.split('; ').some(function(x){return x.indexOf(_name+'=')===0}))return;var utms=_u(),src=_s(utms,document.referrer),fc=utms.clid?utms.clid.split(':')[1]:'';var data={traffic_source:src,utm_source:utms.utm_source,utm_medium:utms.utm_medium,utm_campaign:utms.utm_campaign,utm_term:utms.utm_term,utm_adgroup:utms.utm_adgroup,utm_content:utms.utm_content,clid:fc};try{var sd=encodeURIComponent(JSON.stringify(data)),ex=new Date(Date.now()+30*24*60*60*1000).toUTCString(),sec=location.protocol==='https:'?'; Secure':'',h=location.hostname,_dom=(h&&h!=='localhost'&&h!=='127.0.0.1')?'; domain=.'+h.replace(/^www\./,''):'';document.cookie='kmb_session_data='+sd+'; path=/'+_dom+'; expires='+ex+'; SameSite=Lax'+sec}catch(e){}})();
